<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      class Node {
        constructor(value) {
          this.val = value;
          this.left = this.right = null;
        }
      }

      function morrisTraversal(root) {
        let result = [];
        let curr = root;

        while (curr !== null) {
          if (curr.left === null) {
            result.push(curr.val);
            curr = curr.right;
          } else {
            let pre = curr.left;

            // find rightmost node of left subtree
            while (pre.right !== null) {
              pre = pre.right;
            }

            pre.right = curr;
            let temp = curr;
            curr = curr.left;
            temp.left = null;
          }
        }

        console.log({ result });
        return result;
      }

      // Function to create a new Node
      function addNode(value) {
        return new Node(value);
      }

      // Example usage:
      let root = addNode(20);
      root.left = addNode(40);
      root.right = addNode(60);
      root.left.left = addNode(80);
      root.left.right = addNode(100);

      [80, 40, 100, 20, 60];
      morrisTraversal(root);
    </script>
  </body>
</html>
